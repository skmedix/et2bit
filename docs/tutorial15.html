<html>
<head>
  <title>2Bit Enemy Territory</title>
  <link href="styles.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<table
        width="100%"
        border="0"
        cellpadding="0"
        cellspacing="0"
        bgcolor="#525C69"
>
  <tr>
    <td width="1">
      <a href="https://skmedix.github.io/et2bit/"
      ><img
              src="images/url.gif"
              alt="2Bit's Mapping Corner on www.PythonOnline.co.uk"
              hspace="36"
              vspace="5"
              border="0"
              width="166"
              height="15"
      /></a>
    </td>
    <td width="1"><img src="images/s.gif" width="36" height="1"/></td>
  </tr>
</table>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td>
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td valign="top">
            <table
                    width="100%"
                    border="0"
                    align="center"
                    cellpadding="0"
                    cellspacing="0"
            >
              <tr class="grey">
                <td>
                  <table
                          width="100%"
                          border="0"
                          cellpadding="0"
                          cellspacing="0"
                  >
                    <tr>
                      <td>
                        <img
                                src="images/logo.jpg"
                                hspace="6"
                                width="227"
                                height="250"
                        />
                      </td>
                      <td width="100%" align="center">
                        <font size="6">ET Mapping Tutorial</font>
                        <p><font size="5">Lesson 15</font></p>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr>
                <td>
                  <table
                          width="100%"
                          border="0"
                          cellspacing="0"
                          cellpadding="8"
                  >
                    <tr>
                      <td>
                        <table
                                width="100%"
                                border="0"
                                cellpadding="5"
                                cellspacing="2"
                                class="nicefield"
                        >
                          <tr valign="top">
                            <td width="100%" class="header">Topics</td>
                          </tr>
                          <tr valign="top">
                            <td width="100%" bgcolor="#EAEBED">
                              <b
                              ><br/>
                                Making a constructible MG42<br/>
                                &nbsp;</b
                              >
                              <table
                                      border="0"
                                      cellpadding="2"
                                      cellspacing="0"
                                      bordercolor="#FFFFFF"
                              >
                                <tr>
                                  <td></td>
                                  <td>
                                    <a href="#mg42"
                                    >Making the constructible MG42 nest</a
                                    >
                                  </td>
                                </tr>
                                <tr>
                                  <td></td>
                                  <td>
                                    <a href="#script"
                                    >Including the script</a
                                    >
                                  </td>
                                </tr>
                                <tr>
                                  <td></td>
                                  <td>
                                    <a href="tutorial.html"
                                    >Back to main menu</a
                                    >
                                  </td>
                                </tr>
                              </table>
                            </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                  <!-- Alert boxout
<table border="0" cellpadding="5" cellspacing="0" bordercolor="#000000">
<tr>
<td bordercolor="#000000" style="border-style: solid; border-width: 1" valign="top" bgcolor="#F4F4F4">
<img border="0" src="images/tutorial/alert.gif" width="48" height="42" style="float: left">
</td>
</tr>
</table>
-->
                  <!--
                    <table width="100%"  border="0" cellspacing="0" cellpadding="8">
                    <tr>
                        <td>
                            <table width="100%"  border="0" cellpadding="5" cellspacing="2" class="nicefield">
                            <tr valign="top">
                                <td width="100%">
                                  <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                    <tr>
                                      <td width="50%" class=header><a name="name">name</a></td>
                                      <td width="50%" align="right"><a href="#">[Top]</a></td>
                                    </tr>
                                  </table>
                                </td>
                            </tr>
                            <tr valign="top">
                                <td width="100%" bgcolor="#EAEBED">
                                </td>
                            </tr>
                            </table>
                        </td>
                    </tr>
                    </table>
-->

                  <table
                          width="100%"
                          border="0"
                          cellspacing="0"
                          cellpadding="8"
                  >
                    <tr>
                      <td>
                        <table
                                width="100%"
                                border="0"
                                cellpadding="5"
                                cellspacing="2"
                                class="nicefield"
                        >
                          <tr valign="top">
                            <td width="100%">
                              <table
                                      border="0"
                                      cellpadding="0"
                                      cellspacing="0"
                                      width="100%"
                              >
                                <tr>
                                  <td width="50%" class="header">
                                    <a name="mg42"
                                    >Making the constructible MG42 nest</a
                                    >
                                  </td>
                                  <td width="50%" align="right">
                                    <a href="#">[Top]</a>
                                  </td>
                                </tr>
                              </table>
                            </td>
                          </tr>
                          <tr valign="top">
                            <td width="100%" bgcolor="#EAEBED">
                              Generally speaking, making all the components
                              for a constructible item is too much hassle to
                              do from scratch each time.&nbsp; So I use the
                              Blue Peter method: &quot;Here's one I made
                              earlier&quot;.
                              <p>
                                By that I mean for things like constructible
                                MG42s, Command Posts and Health &amp; Ammo
                                Cabinets, you just use a prefab made before,
                                tweak it a bit to get the placement and
                                names right, and away you go.&nbsp; Saves
                                tons of time.
                              </p>
                              <p>
                                So I will provide you a link to the
                                <a href="tutorial/mg42.zip"
                                >MG42 map elements</a
                                >
                                for you to import, which includes the script
                                chunk you need to make it work.&nbsp; The
                                rest of the lesson will be devoted to
                                explaining what the components are and what
                                their settings mean, so you can reproduce
                                them in your map as you need them.
                              </p>
                              <p>
                                Download the zip file, and unzip the script
                                file to your maps folder, and the map file
                                to your prefabs folder.&nbsp; The script
                                file is complete with the game_manager
                                section too, so it can replace the previous
                                tutorial.script file.
                              </p>
                              <p>
                                We'll deal with the import of the MG42 into
                                the tutorial map first.
                              </p>
                              <p>
                                Run Radiant, open the map, and import the
                                    prefab_axis_constructible_mg42 - I saved
                                    this in the right place so that when you
                                    import it, it will already be placed on the
                                    roof of the house.&nbsp; If your house is
                                    not the same dimensions, you'll need to drag
                                the whole selection into place yourself.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image2.jpg"
                                        width="447"
                                        height="390"
                                />
                              </p>
                            </td>
                          </tr>
                          <tr valign="top">
                            <td width="100%" bgcolor="#EAEBED">
                              Let's go through the components so you
                              understand what you've got.
                              <p>
                                Shift+alt+click the large trigger
                                    cube.&nbsp; This will select the large cube
                                    and a small cube within it.&nbsp; The one
                                    within is the origin brush, which tells ET
                                    where the &quot;middle&quot; of the trigger
                                    is, regardless of the odd shape that a
                                trigger brush can be.
                              </p>
                              <p>
                                Press N to see the details of the trigger.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image3.jpg"
                                        width="413"
                                        height="474"
                                />
                              </p>
                              This trigger is not a trigger_hurt, it is a
                              trigger_objective_toi (Trigger Objective
                              Info), which means it is used to determine
                              when a friendly engineer will see the pliers
                              hint.
                              <p>
                                This is an axis constructible MG42 we are
                                    making, so the <b>axis_objective</b> box is
                                ticked.
                              </p>
                              <p>
                                The <b>shortname</b> is what gets displayed
                                on the Command map.
                              </p>
                              <p>
                                The <b>spawnflags</b> is a number which
                                    represents the set of tick box settings
                                you've chosen.
                              </p>
                              <p>
                                The <b>target</b> is the targetname of the
                                entity to be constructed.&nbsp; When the
                                    pliers-waving is done, this is the name of
                                    the procedure in the script that will get
                                executed.
                              </p>
                              <p>
                                The <b>track</b> is the text that gets shown
                                when a player enters the trigger volume, as
                                in &quot;You are near...&quot;.
                              </p>
                              <p>
                                The <b>targetname</b> is the name given to
                                this toi.
                              </p>
                              <p>
                                You will see that
                                <b>axisconstruct_house_mg42 </b>gets used as
                                the common naming thread to join all the
                                components together.
                              </p>
                            </td>
                          </tr>
                          <tr valign="top">
                            <td width="100%" bgcolor="#EAEBED">
                              Close the entity window and press H to hide
                              the trigger.&nbsp; By successively selecting
                              components and hiding them, you can be sure
                              you have seen everything.
                              <p>
                                Press shift+M to filter out the models,
                                making it easier to select the clip brushes
                                of the crates.
                              </p>
                              <p>
                                Shift+alt+click the crate brushes.&nbsp; If
                                this doesn't select the brushes, keep doing
                                it until it does.&nbsp; You can see they
                                will stop bullets with a wooden sound.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image4.jpg"
                                        width="440"
                                        height="400"
                                />
                              </p>
                              <p>
                                Press shift+M again to see the models again,
                                and press N.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image5.jpg"
                                        width="362"
                                        height="427"
                                />
                              </p>
                              <p>
                                A <b>script_mover</b> entity has been used
                                here, but in this instance this is a bit
                                misleading, because the crates don't
                                    move.&nbsp; The choice of a script_mover
                                    entity was simply a convenience and other
                                    entity types would have done.&nbsp; This
                                    example for first taken from Goldrush and
                                there's been no point in changing it.
                              </p>
                              <p>
                                What matters is that this is just a clip
                                    brush so that the players don't run through
                                    the crate models - remember models don't
                                impede player or missile movement.
                              </p>
                              <p>
                                The <b>solid</b> box is ticked because this
                                is a script_mover which by default also
                                doesn't impede player movement.
                              </p>
                              <p>
                                The <b>targetname </b>and
                                <b>scriptname</b> are both
                                    axisconstruct_house_mg42_clip.&nbsp;
                                    Convention has it that if an entity is going
                                    to have a script (ie a procedure appear in
                                    the script file) then you make the procedure
                                    name (scriptname) the same as the entity
                                    name (targetname).&nbsp; But just because an
                                    entity has a scriptname, it does not mean
                                    you necessarily have to have a script
                                    procedure for it.&nbsp; In other words, no
                                harm done by having a scriptname.
                              </p>
                              <p>
                                Close the entity window and press H to hide
                                the clip.
                              </p>
                            </td>
                          </tr>
                          <tr valign="top">
                            <td width="100%" bgcolor="#EAEBED">
                              Now shift+alt+click the crates model and press
                              N.
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image7.jpg"
                                        width="317"
                                        height="301"
                                />
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image6.jpg"
                                        width="457"
                                        height="451"
                                />
                              </p>
                              <p>
                                This is the model of the crate boxes.&nbsp;
                                A <b>skin</b> ie a texture, is applied to
                                the crates model to make them axis crates.
                              </p>
                              <table
                                      border="0"
                                      cellpadding="5"
                                      cellspacing="0"
                                      bordercolor="#000000"
                              >
                                <tr>
                                  <td
                                          bordercolor="#000000"
                                          style="
                                          border-style: solid;
                                          border-width: 1;
                                        "
                                          valign="top"
                                          bgcolor="#F4F4F4"
                                  >
                                    <img
                                            border="0"
                                            src="images/tutorial/alert.gif"
                                            width="48"
                                            height="42"
                                            style="float: left"
                                    />Models are not rotated in the map in
                                    the same way as brushes.&nbsp; That is,
                                    if you try to rotate a model it won't do
                                    anything.&nbsp; To adjust the angle of a
                                    model, you use the &quot;angle&quot; key
                                    and a value in degrees.&nbsp; If angle
                                    is not specified, 0 (East) is
                                    assumed.&nbsp; These boxes have been
                                    rotated 270 degrees.
                                  </td>
                                </tr>
                              </table>
                              <p>
                                The <b>classname</b> is misc_gamemodel
                                rather than misc_model.
                              </p>
                              <table
                                      border="0"
                                      cellpadding="5"
                                      cellspacing="0"
                                      bordercolor="#000000"
                              >
                                <tr>
                                  <td
                                          bordercolor="#000000"
                                          style="
                                          border-style: solid;
                                          border-width: 1;
                                        "
                                          valign="top"
                                          bgcolor="#F4F4F4"
                                  >
                                    <img
                                            border="0"
                                            src="images/tutorial/alert.gif"
                                            width="48"
                                            height="42"
                                            style="float: left"
                                    />Use misc_model for any sundry model,
                                    no matter how big or small, that will
                                    just sit there and do nothing, like
                                    trees.<br/>
                                    Use misc_gamemodel if the model needs to
                                    be referred to in the script.&nbsp;
                                    There is an exception to this which will
                                    be covered later.
                                  </td>
                                </tr>
                              </table>
                              <p>Close the window and press H.</p>
                              <p>
                                Shift+alt+click the flag.&nbsp; Press N.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image8.jpg"
                                        width="433"
                                        height="505"
                                />
                              </p>
                              <p>
                                This model is animated: the flag flaps in
                                the breeze.&nbsp; Hence the
                                <b>start_animate</b> and
                                <b>frames</b> settings.
                              </p>
                              <p>
                                The 360 degree angle seems pointless, but
                                    hey, that's how it is in Goldrush so I've
                                left it alone.
                              </p>
                              <p>Close the window and press H.</p>
                              <p>
                                Ok, that's dealt with the crates side of the
                                MG42.&nbsp; Now select the red box which is
                                the MG42, and press N.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image9.jpg"
                                        width="384"
                                        height="437"
                                />
                              </p>
                              <p>
                                I have given the MG42 a horizontal arc of
                                    180 degrees, which allows it to spin
                                    completely round.&nbsp; Normally the default
                                arc is ok so <b>harc</b> is not specified
                              </p>
                              <p>
                                I wanted the built MG42 to face north, so I
                                gave it an <b>angle</b> of 90 degrees.
                              </p>
                              <p>Close the window and press H.</p>
                              <p>
                                Shift+alt+click the clip brush that
                                envelopes the sandbag models.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image10.jpg"
                                        width="434"
                                        height="320"
                                />
                              </p>
                              <p>Press N.</p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image11.jpg"
                                        width="401"
                                        height="424"
                                />
                              </p>
                              <p>
                                The clip brush is a
                                <b>func_constructible</b>, ie the subject of
                                a toi trigger.
                              </p>
                              <p>
                                The MG42 + sandbags are to be built by axis,
                                so the <b>axis_constructible</b> box is
                                ticked.
                              </p>
                              <p>
                                The <b>track</b> in this instance is used by
                                ET to tell it to consider anything else with
                                the same track value to be part of the
                                    constructible.&nbsp; So when the clip gets
                                    built, the models with the same track value
                                undergo the construction with it.
                              </p>
                              <p>
                                Close the window and press H.&nbsp; You are
                                left with just 4 models.&nbsp; Shift+click
                                any of them.
                              </p>
                              <p>
                                <img
                                        border="0"
                                        src="images/tutorial/15/Image13.jpg"
                                        width="473"
                                        height="449"
                                />
                              </p>
                              <p>
                                You know enough now from previous
                                    explanations to be able to interpret the
                                settings shown.
                              </p>
                              <p>
                                Press shift+H to reveal everything
                                    again.&nbsp; Save your work and compile
                                it.&nbsp; Don't test it yet.
                              </p>
                            </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                  <table
                          width="100%"
                          border="0"
                          cellspacing="0"
                          cellpadding="8"
                  >
                    <tr>
                      <td>
                        <table
                                width="100%"
                                border="0"
                                cellpadding="5"
                                cellspacing="2"
                                class="nicefield"
                        >
                          <tr valign="top">
                            <td width="100%">
                              <table
                                      border="0"
                                      cellpadding="0"
                                      cellspacing="0"
                                      width="100%"
                              >
                                <tr>
                                  <td width="50%" class="header">
                                    <a name="script"
                                    >Including the script</a
                                    >
                                  </td>
                                  <td width="50%" align="right">
                                    <a href="#">[Top]</a>
                                  </td>
                                </tr>
                              </table>
                            </td>
                          </tr>
                          <tr valign="top">
                            <td width="100%" bgcolor="#EAEBED">
                              When your script gets large, you would just
                              copy/paste the <b>axisconstruct_house_mg42</b>
                              portion of the script supplied into your own
                              script file.&nbsp; For now I have supplied the
                              whole script file for convenience.
                              <p>
                                Open the script file in Wordpad or similar.
                              </p>
                              <p>
                                You will see the MG42 script
                                    procedure.&nbsp; I have commented what's
                                    going on throughout the procedure to help
                                    you start to understand scripting, but this
                                is the gist of what happens:
                              </p>
                              <ul>
                                <li>
                                  At game start, the various MG42 components
                                  are set to their initial required state,
                                  eg the MG42 wants to start invisible.
                                </li>
                                <li>
                                  The func_constructible can be destroyed by
                                  a satchel or dynamite (class = 2).&nbsp;
                                  Class 3 would be dynamite only.
                                </li>
                                <li>
                                  Once an engineer has waved his pliers long
                                  enough, the <b>built final</b> procedure
                                  gets executed, to bring the MG42 into
                                  being.
                                </li>
                                <li>
                                  If the engineer started waving but doesn't
                                  finish in time, the
                                  <b>decayed final</b> procedure gets
                                  executed.
                                </li>
                                <li>
                                  Finally if the MG42 is destroyed, the
                                  <b>death</b> procedure gets executed.
                                </li>
                              </ul>
                              <p>
                                With your script complete, you are ready to
                                test the map: make sure you can construct it
                                as Axis, and destroy it as an Allied cov
                                    ops.
                              </p>
                            </td>
                          </tr>
                          <tr valign="top">
                            <td width="100%" bgcolor="#EAEBED">
                              <a href="tutorial16.html"> Next lesson</a>
                            </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</body>
</html>
